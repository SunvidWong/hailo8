# Hailo8 远程部署环境变量配置
# 复制此文件为 .env 并根据实际环境修改配置

# ==========================================
# 服务器基本配置
# ==========================================
DOMAIN=hailo-api.yourdomain.com          # 您的域名
API_URL=https://hailo-api.yourdomain.com  # API服务地址
WS_URL=wss://hailo-api.yourdomain.com   # WebSocket地址
TZ=Asia/Shanghai                         # 时区设置

# ==========================================
# 版本和构建配置
# ==========================================
VERSION=2.0.0                            # 服务版本号
BUILD_DATE=2024-01-01T00:00:00Z         # 构建日期
VCS_REF=main                             # Git分支或标签

# ==========================================
# 数据存储路径
# ==========================================
DATA_PATH=/opt/hailo8/data               # 数据存储根目录
BACKUP_SCHEDULE=0 2 * * *               # 备份时间 (每天凌晨2点)

# ==========================================
# 安全配置
# ==========================================
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-2024
GRAFANA_USER=admin
GRAFANA_PASSWORD=your-secure-password-change-this

# ==========================================
# 日志级别配置
# ==========================================
LOG_LEVEL=INFO                           # 日志级别: DEBUG, INFO, WARNING, ERROR
DEBUG=false                              # 调试模式

# ==========================================
# 性能配置
# ==========================================
REDIS_MAXMEMORY=1gb                      # Redis最大内存
ELASTIC_JAVA_OPTS=-Xms1g -Xmx1g          # Elasticsearch JVM参数

# ==========================================
# SSL证书配置 (如果使用HTTPS)
# ==========================================
SSL_CERT_PATH=./nginx/ssl/cert.pem       # SSL证书路径
SSL_KEY_PATH=./nginx/ssl/key.pem         # SSL私钥路径

# ==========================================
# 监控配置
# ==========================================
PROMETHEUS_RETENTION=30d                 # Prometheus数据保留时间
GRAFANA_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource

# ==========================================
# Watchtower自动更新配置
# ==========================================
WATCHTOWER_ENABLED=true                  # 启用自动更新
WATCHTOWER_POLL_INTERVAL=3600            # 检查间隔 (秒)
WATCHTOWER_CLEANUP=true                  # 清理旧镜像

# ==========================================
# 资源限制配置
# ==========================================
# Hailo Runtime
HAILO_RUNTIME_CPU_LIMIT=2.0
HAILO_RUNTIME_MEMORY_LIMIT=4g
HAILO_RUNTIME_CPU_RESERVATION=1.0
HAILO_RUNTIME_MEMORY_RESERVATION=2g

# AI Service
AI_SERVICE_REPLICAS=2                    # AI服务副本数
AI_SERVICE_CPU_LIMIT=1.0
AI_SERVICE_MEMORY_LIMIT=2g

# 监控服务
PROMETHEUS_CPU_LIMIT=1.0
PROMETHEUS_MEMORY_LIMIT=2g
GRAFANA_CPU_LIMIT=0.5
GRAFANA_MEMORY_LIMIT=1g

# ==========================================
# 邮件通知配置 (可选)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
ALERT_EMAIL=admin@yourdomain.com

# ==========================================
# 钉钉/企业微信通知配置 (可选)
# ==========================================
DINGTALK_WEBHOOK=https://oapi.dingtalk.com/robot/send?access_token=your-token
WECHAT_WEBHOOK=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your-key